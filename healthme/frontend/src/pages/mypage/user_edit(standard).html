<!DOCTYPE html>
<html lang="en">
  <head>
    <head>
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <title>마이 페이지</title>
      <link rel="preconnect" href="https://fonts.googleapis.com" />
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
      <!-- 폰트 -->
      <link
        href="https://fonts.googleapis.com/css2?family=Nanum+Gothic&display=swap"
        rel="stylesheet"
      />
      <!-- 이모지 -->
      <script
        src="https://kit.fontawesome.com/b83f799b86.js"
        crossorigin="anonymous"
      ></script>
      <!-- google icon -->
      <link
        rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
      />

      <!-- css -->
      <link rel="stylesheet" href="/src/static/css/common/common.css" />
      <link rel="stylesheet" href="/src/static/css/pages/Mypage.css" />

      <!-- js -->
      <script src="/src/static/js/by.js"></script>
    </head>
  </head>
  <body>
    <div id="header"></div>
    <div class="container">
      <div class="sidebar">
        <h3>회원 정보</h3>
        <ul>
          <li>
            <a href="/pages/mypage/user_edit(standard).html">
              회원 정보 수정
            </a>
          </li>
        </ul>
        <h3>구매 관리</h3>
        <ul>
          <li>
            <a href="/src/pages/mypage/address_edit.html"> 배송 주소 수정 </a>
          </li>
          <li>
            <a href="/src/pages/mypage/purchase history.html">구매 내역 </a>
          </li>
        </ul>
        <h3>서비스</h3>
        <ul>
          <li>
            <a href="/src/pages/Announcement/Announcement.html">고객센터</a>
          </li>
          <li>
            <a href="/src/pages/mypage/inquiry-history.html">상품문의</a>
          </li>
        </ul>
      </div>

      <div class="main">
        <div class="user-box">
          <div class="user-top">
            <div>🌱 강강강</div>
            <form action="javascript:void(0)" method="post">
              <!--action="/logout" -->
              <button type="submit" class="logout-button">로그아웃</button>
            </form>
          </div>
          <div class="delivery-status-summary">
            📦 현재 배송 상태: <span class="badge">2 / 3건 배송 완료</span>
          </div>
          <div class="delivery-detail-button">
            <button onclick="openModal()">배송 상세보기</button>
          </div>
        </div>

        <div class="form-box">
          <h2>회원 정보 수정</h2>

          <form action="${pageContext.request.contextPath}/join/update" method="post" class="profile-edit-form">
            <div class="input-row">
              <label>아이디</label>
              <input type="text" name="userid" value="${user.userid}" readonly />
            </div>

            <div class="input-row">
              <label>현재 비밀번호</label>
              <input
                type="password"
                name="currentPassword"
                placeholder="비밀번호를 입력해 주세요"
              />
            </div>

            <div class="input-row">
              <label>새 비밀번호</label>
              <input
                type="password"
                name="newPassword"
                placeholder="새 비밀번호를 입력해 주세요"
              />
            </div>

            <div class="input-row">
              <label>이름</label>
              <input type="text" name="username" value="${user.name}" />
            </div>

            <div class="input-row">
              <label>휴대폰</label>
              <div class="phone-box">
                <select name="tel1" class="form-control custom-input" id="tel1">
                  <option value="010" ${user.tel1 == '010' ? 'selected' : ''}>010</option>
                  <option value="011" ${user.tel1 == '011' ? 'selected' : ''}>011</option>

                </select>
                <span class="tel-hypen">-</span>
                <input type="text" name="tel2" value="${user.tel2}" class="form-control custom-input" id="tel2" />
                <span class="tel-hypen">-</span>
                <input type="text" name="tel3" value="${user.tel3}" class="form-control custom-input" id="tel3" />
                <button type="button" class="verify-btn">인증</button>
              </div>
            </div>

            <div class="input-row">
              <label>선택약간동의</label>
              <div class="terms-box">
                <input type="checkbox" name="termsAgree" /> 개인정보 수집·이용
                동의(선택)
                <a href="/terms" target="_blank">약관보기</a>
              </div>
            </div>

            <div class="button-group">
              <button type="submit" class="submit-btn">수정하기</button>
            </div>
          </form>
          <form action="">
            <input type="hidden" name="userid" value="${user.name}">
            <div class="button-group">
              <button type="submit" class="withrdraw-btn">탈퇴하기</button>
            </div>
          </form>
        </div>
      </div>
    </div>
    <div id="footer"></div>
  </body>
</html>
