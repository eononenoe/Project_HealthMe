<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>재료구매</title>

    <!-- 폰트 -->
    <link href="https://fonts.googleapis.com/css2?family=Nanum+Gothic&display=swap" rel="stylesheet">
    <!-- 이모지 -->
    <script src="https://kit.fontawesome.com/b83f799b86.js" crossorigin="anonymous"></script>
    <!-- google icon -->
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />

    <!-- css -->
    <link rel="stylesheet" href="/static/css/common/common.css">
    <link rel="stylesheet" href="/static/css/pages/Purchase.css">

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="/static/js/by.js"></script>
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
        .nanum-gothic-regular {
            font-family: "Nanum Gothic", serif;
            font-weight: 400;
            font-style: normal;
        }

        .material-symbols-outlined {
            font-variation-settings: "FILL" 0, "wght" 400, "GRAD" 0, "opsz" 24;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            list-style-type: none;
            list-style: none;
            font-family: "Nanum Gothic", serif;
        }

        html,
        body {
            margin: 0;
            padding: 0;
            height: 100%;
        }

        a {
            text-decoration: none;
            color: grey;
            cursor: pointer;
        }

        .flex {
            display: flex;
        }

        .flex-col {
            flex-direction: column;
        }

        .gap-6 {
            gap: 1.5rem;
        }

        .p-8 {
            padding: 2rem;
        }

        .grid {
            display: grid;
        }

        .grid-cols-1 {
            grid-template-columns: repeat(1, minmax(0, 1fr));
        }

        .md\:grid-cols-3 {
            grid-template-columns: repeat(3, minmax(0, 1fr));
        }

        .gap-4 {
            gap: 1rem;
        }

        .p-6 {
            padding: 1.5rem;
        }

        .rounded-2xl {
            border-radius: 1rem;
        }

        .shadow-lg {
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }

        .bg-white {
            background-color: #ffffff;
        }

        .items-center {
            align-items: center;
        }

        .text-xl {
            font-size: 1.25rem;
        }

        .text-2xl {
            font-size: 1.5rem;
        }

        .font-bold {
            font-weight: 700;
        }

        .mb-2 {
            margin-bottom: 0.5rem;
        }

        .mb-4 {
            margin-bottom: 1rem;
        }

        .mt-8 {
            margin-top: 2rem;
        }

        .text-lg {
            font-size: 1.125rem;
        }

        .text-red-500 {
            color: #f56565;
        }

        .text-green-400 {
            color: #48bb78;
        }

        .w-full {
            width: 100%;
        }

        .h-4 {
            height: 1rem;
        }

        .bg-gray-200 {
            background-color: #e2e8f0;
        }

        .bg-blue-400 {
            background-color: #63b3ed;
        }

        .bg-red-400 {
            background-color: #fc8181;
        }

        .bg-green-400 {
            background-color: #68d391;
        }

        .rounded-full {
            border-radius: 9999px;
        }

        .page-layout {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-top: 2rem;
        }

        .left-panel,
        .right-panel {
            background-color: #ffffff;
            border-radius: 1rem;
            padding: 2rem;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.08);
        }

        .score-summary {
            background-color: #f1f5f9;
            padding: 1.5rem;
            border-radius: 1rem;
            text-align: center;
            margin-bottom: 2rem;
        }

        .score-summary h2 {
            font-size: 2rem;
            font-weight: bold;
            color: #2d3748;
            margin-bottom: 0.5rem;
        }

        .score-summary p {
            font-size: 1rem;
            color: #718096;
        }

        .right-panel {
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }

        .score-summary,
        .score-graph {
            background-color: #ffffff;
            border: 1px solid #e2e8f0;
            border-radius: 1rem;
            padding: 2rem;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.08);
        }

        .score-summary h2 {
            font-size: 2.5rem;
            font-weight: bold;
            color: #2d3748;
            text-align: center;
            margin-bottom: 1rem;
        }

        .score-summary p {
            font-size: 1rem;
            color: #718096;
            text-align: center;
        }

        .score-graph h3 {
            font-size: 1.25rem;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 1rem;
        }

        canvas {
            width: 100% !important;
            height: 250px !important;
        }
    </style>
</head>

<body>
    <div id="header"></div>
    <div class="flex flex-col gap-6 p-8">

        <!-- 상단 요약 카드 -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
            <div class="p-6 rounded-2xl shadow-lg bg-white flex flex-col items-center">
                <h2 class="text-xl font-bold mb-2">부족한 영양소</h2>
                <p class="text-lg">비타민 D, 단백질, 철분</p>
            </div>
            <div class="p-6 rounded-2xl shadow-lg bg-white flex flex-col items-center">
                <h2 class="text-xl font-bold mb-2">줄여야 할 영양소</h2>
                <p class="text-lg text-red-500">나트륨 (112%)</p>
            </div>
            <div class="p-6 rounded-2xl shadow-lg bg-white flex flex-col items-center">
                <h2 class="text-xl font-bold mb-2">추천 식품</h2>
                <p class="text-lg">연어, 브로콜리, 귀리</p>
            </div>
        </div>

        <!-- 본문 2단 분할 -->
        <div class="page-layout">
            <!-- 왼쪽: 영양소별 상세 그래프 -->
            <div class="left-panel">
                <h2 class="text-2xl font-bold mb-4">영양소별 상세 그래프</h2>
                <div class="flex flex-col gap-4">
                    <div>
                        <label class="font-semibold">단백질 (80%)</label>
                        <div class="w-full h-4 bg-gray-200 rounded-full">
                            <div class="h-4 bg-blue-400 rounded-full" style="width: 80%"></div>
                        </div>
                    </div>
                    <div>
                        <label class="font-semibold">나트륨 (112%)</label>
                        <div class="w-full h-4 bg-gray-200 rounded-full">
                            <div class="h-4 bg-red-400 rounded-full" style="width: 100%"></div>
                        </div>
                    </div>
                    <div>
                        <label class="font-semibold">비타민 D (40%)</label>
                        <div class="w-full h-4 bg-gray-200 rounded-full">
                            <div class="h-4 bg-blue-400 rounded-full" style="width: 40%"></div>
                        </div>
                    </div>
                    <div>
                        <label class="font-semibold">철분 (부족)</label>
                        <div class="w-full h-4 bg-gray-200 rounded-full">
                            <div class="h-4 bg-blue-400 rounded-full" style="width: 45%"></div>
                        </div>
                    </div>
                    <div>
                        <label class="font-semibold">칼슘 (부족)</label>
                        <div class="w-full h-4 bg-gray-200 rounded-full">
                            <div class="h-4 bg-blue-400 rounded-full" style="width: 50%"></div>
                        </div>
                    </div>
                    <div>
                        <label class="font-semibold">식이섬유 (부족)</label>
                        <div class="w-full h-4 bg-gray-200 rounded-full">
                            <div class="h-4 bg-blue-400 rounded-full" style="width: 55%"></div>
                        </div>
                    </div>
                    <div>
                        <label class="font-semibold">마그네슘 (부족)</label>
                        <div class="w-full h-4 bg-gray-200 rounded-full">
                            <div class="h-4 bg-blue-400 rounded-full" style="width: 50%"></div>
                        </div>
                    </div>
                    <div>
                        <label class="font-semibold">칼륨 (부족)</label>
                        <div class="w-full h-4 bg-gray-200 rounded-full">
                            <div class="h-4 bg-blue-400 rounded-full" style="width: 60%"></div>
                        </div>
                    </div>
                    <div>
                        <label class="font-semibold">비오틴 (부족)</label>
                        <div class="w-full h-4 bg-gray-200 rounded-full">
                            <div class="h-4 bg-blue-400 rounded-full" style="width: 50%"></div>
                        </div>
                    </div>
                    <div>
                        <label class="font-semibold">아연 (충분)</label>
                        <div class="w-full h-4 bg-gray-200 rounded-full">
                            <div class="h-4 bg-green-400 rounded-full" style="width: 90%"></div>
                        </div>
                    </div>
                    <div>
                        <label class="font-semibold">아르기닌 (부족)</label>
                        <div class="w-full h-4 bg-gray-200 rounded-full">
                            <div class="h-4 bg-blue-400 rounded-full" style="width: 50%"></div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- 오른쪽 영역 -->
            <div class="right-panel">

                <!-- 점수 요약 카드 -->
                <div class="score-summary">
                    <h2>82 / 100점</h2>
                    <p>전날 대비 -13점 (4/12: 95점 → 4/13: 82점)</p>
                </div>

                <!-- 그래프 카드 -->
                <div class="score-graph">
                    <h3>최근 건강 점수 변화</h3>
                    <canvas id="scoreChart"></canvas>
                </div>

            </div>
        </div>

    </div>
    <div id="footer"></div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
      const ctx = document.getElementById('scoreChart').getContext('2d');
      new Chart(ctx, {
        type: 'line',
        data: {
          labels: ['4/11', '4/12', '4/13'],
          datasets: [{
            label: '건강 점수',
            data: [78, 95, 82],
            borderColor: '#4299e1',
            backgroundColor: '#bee3f8',
            fill: true,
            tension: 0.4,
            pointBackgroundColor: '#4299e1',
            pointBorderColor: '#4299e1',
          }]
        },
        options: {
          responsive: true,
          scales: {
            y: {
              beginAtZero: true,
              max: 100
            }
          },
          plugins: {
            legend: {
              display: false
            }
          }
        }
      });
    </script>
</body>

</html>